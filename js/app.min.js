!function(){"use strict";class e{constructor(){this.$menuBtn=document.querySelector(".menu__icon"),this.$menuBtnClose=document.querySelector(".menu__body-close"),this.$menuBody=document.querySelector(".menu__body"),this.$inputSearch=document.querySelector(".header__content-input"),this.$templateBtns=document.querySelectorAll(".header__content-button"),this.$select=document.querySelector(".select"),this.$selectArrow=document.querySelector(".select-arrow"),this.$currentText=document.querySelector(".select__current"),this.$selectItem=document.querySelector(".select-item"),this.$dropmenuImage=document.querySelector(".dropmenu__image"),this.$dropmenuBody=document.querySelector(".dropmenu__body"),this.#e()}#e(){this.handleBurgerBtn=this.handleBurgerBtn.bind(this),this.handleSelect=this.handleSelect.bind(this),this.handleDropmenu=this.handleDropmenu.bind(this),this.$menuBtn.addEventListener("click",this.handleBurgerBtn),this.$menuBtnClose.addEventListener("click",this.handleBurgerBtn),document.addEventListener("click",this.handleDocumentClick.bind(this)),this.$select.addEventListener("click",this.handleSelect),this.$templateBtns.forEach((e=>{e.addEventListener("click",(()=>{console.log(e.textContent),this.$inputSearch.value=e.textContent.replace(/\s+/g,"")}))})),this.$dropmenuImage.addEventListener("click",this.handleDropmenu)}handleDropmenu(){this.$dropmenuBody.classList.toggle("open")}handleDocumentClick(e){this.$select.contains(e.target)||(this.$select.classList.remove("is-active"),this.$selectArrow.classList.remove("is-active")),this.$menuBtn.contains(e.target)||this.$menuBody.contains(e.target)||(document.body.classList.remove("_lock"),this.$menuBtn.classList.remove("_active"),this.$menuBody.classList.remove("_active"))}handleSelect(e){const{type:t}=e.target.dataset;if("select"===t||"select-icon"===t)this.$select.classList.toggle("is-active"),this.$selectArrow.classList.toggle("is-active");else if("select-item"===t){const t=e.target.textContent;this.$currentText.textContent=t,this.$selectItem.textContent=this.$currentText.textContent,this.$select.classList.remove("is-active"),this.$selectArrow.classList.remove("is-active"),console.log(t)}}handleBurgerBtn(){document.body.classList.toggle("_lock"),this.$menuBtn.classList.toggle("_active"),this.$menuBody.classList.toggle("_active")}formSend(e){e.preventDefault();let t=this.formValidate();0===t?(this.modalHandler(),alert("Форма валидна - данные отправлены на сервер")):console.log(t)}formValidate(){let e=0,t=this.$form.querySelectorAll("._req");for(let n=0;n<t.length;n++){const s=t[n];this.formRemoveError(s),s.classList.contains("_email")?this.emailTest(s)&&(this.formAddError(s),s.value="Enter a correct email address",e++):s.classList.contains("_password")?""===s.value.trim()&&(s.placeholder="Enter password",this.formAddError(s),e++):("checkbox"===s.getAttribute("type")&&!1===s.checked||""===s.value)&&(this.formAddError(s),e++)}return e}formAddError(e){e.classList.add("_error"),document.querySelector(".popap__label-checkbox").classList.add("_error")}formRemoveError(e){e.classList.remove("_error"),document.querySelector(".popap__label-checkbox").classList.remove("_error")}emailTest(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}}function t(e){this.type=e}t.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],n=t.dataset.da.trim().split(","),s={};s.element=t,s.parent=t.parentNode,s.destination=document.querySelector(n[0].trim()),s.breakpoint=n[1]?n[1].trim():"767",s.place=n[2]?n[2].trim():"last",s.index=this.indexInParent(s.parent,s.element),this.оbjects.push(s)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,n){return Array.prototype.indexOf.call(n,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const n=this.mediaQueries[t],s=String.prototype.split.call(n,","),r=window.matchMedia(s[0]),i=s[1],o=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===i}));r.addListener((function(){e.mediaHandler(r,o)})),this.mediaHandler(r,o)}},t.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const n=t[e];n.index=this.indexInParent(n.parent,n.element),this.moveTo(n.place,n.element,n.destination)}else for(let e=0;e<t.length;e++){const n=t[e];n.element.classList.contains(this.daClassname)&&this.moveBack(n.parent,n.element,n.index)}},t.prototype.moveTo=function(e,t,n){t.classList.add(this.daClassname),"last"===e||e>=n.children.length?n.insertAdjacentElement("beforeend",t):"first"!==e?n.children[e].insertAdjacentElement("beforebegin",t):n.insertAdjacentElement("afterbegin",t)},t.prototype.moveBack=function(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},t.prototype.indexInParent=function(e,t){const n=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(n,t)},t.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))},document.addEventListener("DOMContentLoaded",(()=>{!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),new e,new t("max").init()}))}();